<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">

    <link rel="stylesheet" href="css/cart.css">
    <title>Shop Bán Coffe</title>

</head>

<body>
<div id="popup-message" style="display: none; position: fixed; top: 20%; left: 50%; transform: translate(-50%, -50%); padding: 15px; background-color: #4CAF50; color: white; border-radius: 5px; z-index: 9999; text-align: center;">
    Thông báo
</div>

<div class="main_page">

    <!-- Header page -->

    <div id="header"></div>
    <script>
        fetch('header.html')
          .then(response => response.text())
          .then(data => {
            document.getElementById('header').innerHTML = data;
          });
      </script>
    

    <!-- body page -->
    <div class="body_page">

        <div class="body_page-menu">
            <ul>
                <li><a href="index.html">
                    <i class="fa-solid fa-house"></i>
                    Trang chủ</a>
                </li>
                <span><i class="fa-solid fa-chevron-right"></i></span>
                <li><a href="">Giỏ hàng</a></li>
            </ul>
        </div>

        <div class="table_main">

            <table class="table table-responsive">

                <thead>
                <tr>
                    <th class="product-thumbnail">Hình ảnh</th>
                    <th class="product-name">Tên sản phẩm</th>
                    <th class="product-size">Size</th>
                    <th class="product-topping">Topping</th>
                    <th class="product-price">Giá</th>
                    <th class="product-quantity">Số lượng</th>
                    <th class="product-note">Ghi chú</th>
                    <th class="product-total">Tổng</th>
                    <th class="product-remove">Xóa sản phẩm</th>
                    <!-- <i class="fa-solid fa-xmark"></i> -->
                </tr>
                </thead>

                <!-- content -->
                <tbody>

                <!-- product -->
                <tr>
                    <th class="product-thumbnail">
                        <a href="#">
                            <img src="img/details/coffee/ca-phe-sua-da.png" alt="">
                        </a>
                    </th>
                    <th class="product-name">
                        <a href="#">
                            Cà Phê Sữa Đá
                        </a>
                    </th>
                    <th class="product-size">
                        <a href="#">
                            Nhỏ
                        </a>
                    </th>
                    <th class="product-topping">
                        <a href="#">
                           Sốt Caramel
                        </a>
                    </th>
                    <th class="product-price">
                <span>
                  39.000 đ
                </span>
                    </th>
                    <th class="product-quantity">
                        <div class="cart-plus-minus">
                            <button class="dec qtybutton">-</button>
                            <input type="text" value="1">
                            <button class="inc qtybutton">+</button>
                        </div>
                    </th>
                    <th class="product-note">
                        <a href="#">
                           Bỏ ít đá nha bạn
                        </a>
                    </th>
                    <th class="product-total">
                        <span>39.000 đ</span>
                    </th>
                    <th class="product-remove">
                        <button><i class="fa-solid fa-xmark"></i>
                        </button>
                    </th>
                </tr>
                <!-- product -->
                <tr>
                    <th class="product-thumbnail">
                        <a href="#">
                            <img src="img/product/65000072-sua-chua-phuc-bon-tu-dac-cam-phuc-long_23955f73-a6c0-4cca-b79c-b6342df26caf-og.png" alt="">
                        </a>
                    </th>
                    <th class="product-name">
                        <a href="#">
                            Sữa chua Phúc Bồn Tử
                        </a>
                    </th>
                    <th class="product-size">
                        <a href="#">
                            Lớn
                        </a>
                    </th>
                    <th class="product-topping">
                        <a href="#">
                            Trân châu
                        </a>
                    </th>
                    <th class="product-price">
                <span>
                  55.000 đ
                </span>
                    </th>
                    <th class="product-quantity">
                        <div class="cart-plus-minus">
                            <button class="dec qtybutton">-</button>
                            <input type="text" value="1">
                            <button class="inc qtybutton">+</button>
                        </div>
                    </th>
                    <th class="product-note">
                        <a href="#">
                            
                        </a>
                    </th>
                    <th class="product-total">
                        <span>55.000 đ</span>
                    </th>
                    <th class="product-remove">
                        <button><i class="fa-solid fa-xmark"></i>
                        </button>
                    </th>
                </tr>

                <!-- product -->
                <tr>
                    <th class="product-thumbnail">
                        <a href="#">
                            <img src="img/product/tra-sua-matcha.png" alt="">
                        </a>
                    </th>
                    <th class="product-name">
                        <a href="#">
                            Matcha đá xay
                        </a>
                    </th>
                    <th class="product-size">
                        <a href="#">
                            Vừa
                        </a>
                    </th>
                    <th class="product-topping">
                        <a href="#">
                            Không
                        </a>
                    </th>
                    <th class="product-price">
                <span>
                  49.000 đ
                </span>
                    </th>
                    <th class="product-quantity">
                        <div class="cart-plus-minus">
                            <button class="dec qtybutton">-</button>
                            <input type="text" value="1">
                            <button class="inc qtybutton">+</button>
                        </div>
                    </th>
                    <th class="product-note">
                        <a href="#">
                            Làm cho mình đá xay không lấy đá
                        </a>
                    </th>
                    <th class="product-total">
                        <span>49.000 đ</span>
                    </th>
                    <th class="product-remove">
                        <button><i class="fa-solid fa-xmark"></i>
                        </button>
                    </th>
                </tr>

                <!-- product -->
                <tr>
                    <th class="product-thumbnail">
                        <a href="#">
                            <img src="img/product/60000644-passion-panna-cotta_225037c1-1c48-40f1-bab1-f26d54a6ce6b-og.png" alt="">
                        </a>
                    </th>
                    <th class="product-name">
                        <a href="#">
                            Bánh Panna Cotta
                        </a>
                    </th>
                    <th class="product-size">
                        <a href="#">
                            Nhỏ
                        </a>
                    </th>
                    <th class="product-topping">
                        <a href="#">
                            Không
                        </a>
                    </th>
                    <th class="product-price">
                <span>
                  25.000 đ
                </span>
                    </th>
                    <th class="product-quantity">
                        <div class="cart-plus-minus">
                            <button class="dec qtybutton">-</button>
                            <input type="text" value="1">
                            <button class="inc qtybutton">+</button>
                        </div>
                    </th>
                    <th class="product-note">
                        <a href="#">
                           
                        </a>
                    </th>
                    <th class="product-total">
                        <span>39.000 đ</span>
                    </th>
                    <th class="product-remove">
                        <button><i class="fa-solid fa-xmark"></i>
                        </button>
                    </th>
                </tr>

                </tbody>

            </table>

            <div class="table table-non-responsive">

                <ul>
                    <li class="list_card">
                        <div class="card_img">
                            <img src="img/main_products/m1.jpg" alt="">
                        </div>
                        <div class="card_infor">
                            <a href="#" class="title">Cà Phê Sữa Đá size lớn  , Topping Sốt Caramel</a><br>
                            <span class="price">55.000 đ</span>
                            <div class="product-quantity">
                                <button>-</button>
                                <input type="text" value="1">
                                <button>+</button>
                            </div>
                        </div>
                        <div class="deleteProduct">
                            <button class="deleteProductBtn"><i class="fa-solid fa-xmark"></i></button>
                        </div>
                    </li>
                    <li class="list_card">
                        <div class="card_img">
                            <img src="img/main_products/m1.jpg" alt="">
                        </div>
                        <div class="card_infor">
                            <a href="#" class="title">Cà Phê Sữa Đá size lớn  , Topping Sốt Caramel</a><br>
                            <span class="price">55.000 đ</span>
                            <div class="product-quantity">
                                <button>-</button>
                                <input type="text" value="1">
                                <button>+</button>
                            </div>
                        </div>
                        <div class="deleteProduct">
                            <button class="deleteProductBtn"><i class="fa-solid fa-xmark"></i></button>
                        </div>
                    </li>
                    <li class="list_card">
                        <div class="card_img">
                            <img src="img/main_products/m1.jpg" alt="">
                        </div>
                        <div class="card_infor">
                            <a href="#" class="title">Cà Phê Sữa Đá size lớn  , Topping Sốt Caramel</a><br>
                            <span class="price">55.000 đ</span>
                            <div class="product-quantity">
                                <button>-</button>
                                <input type="text" value="1">
                                <button>+</button>
                            </div>
                        </div>
                        <div class="deleteProduct">
                            <button class="deleteProductBtn"><i class="fa-solid fa-xmark"></i></button>
                        </div>
                    </li>
                    <li class="list_card">
                        <div class="card_img">
                            <img src="img/main_products/m1.jpg" alt="">
                        </div>
                        <div class="card_infor">
                            <a href="#" class="title">Cà Phê Sữa Đá size lớn  , Topping Sốt Caramel</a><br>
                            <span class="price">55.000 đ</span>
                            <div class="product-quantity">
                                <button>-</button>
                                <input type="text" value="1">
                                <button>+</button>
                            </div>
                        </div>
                        <div class="deleteProduct">
                            <button class="deleteProductBtn"><i class="fa-solid fa-xmark"></i></button>
                        </div>
                    </li>
                </ul>

            </div>

        </div>

        <div class="coupon_clear">
            <div class="couponCode">
                <input type="text" placeholder="Mã giảm giá">
                <button>OK</button>
            </div>
            <div class="clearCart">
                <button>Xóa tất cả</button>
            </div>
        </div>

        <div class="body_page-footer">
            <div class="empty_page"></div>
            <div class="CartTotals">
                <div class="notes-section">
                    <h3>Ghi chú cho nhân viên</h3>
                    <textarea id="additional-notes" placeholder="Nhập thêm ghi chú..."></textarea>
                </div>


                <h2>Tổng tiền</h2>
                <ul>
                    <li>
                        <span class="title">Tạm tính</span>
                        <span class="price">182.000 đ</span>
                    </li>
                    <li>
                        <span class="title">Giảm giá</span>
                        <span class="price">10.000 đ</span>
                    </li>
                    <li>
                        <span class="title">Phí vận chuyển</span>
                        <span class="price">20.000 đ</span>
                    </li>
                    <li>
                        <span class="title">Tổng</span>
                        <span class="price">192.000 đ</span>
                    </li>
                </ul>
                <button class="totals_btns"><a href="checkout.html">Thanh toán</a></button>
            </div>

        </div>


    </div>

    <!-- footer page -->
    <div id="footer"></div>
    <script>
        fetch('footer.html')
          .then(response => response.text())
          .then(data => {
            document.getElementById('footer').innerHTML = data;
          });
      </script>

</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const cartTable = document.querySelector('.table_main tbody');
        const popupMessage = document.getElementById('popup-message');

        // Hiển thị thông báo
        function showMessage(message) {
            popupMessage.textContent = message;
            popupMessage.style.display = 'block';
            setTimeout(() => {
                popupMessage.style.display = 'none';
            }, 2000);
        }

        // Xử lý tăng/giảm số lượng
        cartTable.addEventListener('click', function (e) {
            const btn = e.target;
            const quantityInput = btn.closest('.cart-plus-minus').querySelector('input');
            const row = btn.closest('tr');
            const priceElement = row.querySelector('.product-price span');
            const totalElement = row.querySelector('.product-total span');

            let quantity = parseInt(quantityInput.value, 10);
            const price = parseInt(priceElement.textContent.replace(/[^\d]/g, ''), 10);

            if (btn.classList.contains('inc')) {
                quantity++;
            } else if (btn.classList.contains('dec') && quantity > 0) {
                quantity--;
            }

            quantityInput.value = quantity;
            totalElement.textContent = (price * quantity).toLocaleString() + ' đ';

            // Nếu số lượng là 0, hiển thị thông báo hoặc thực hiện xóa hàng
            if (quantity === 0) {
                showMessage('Sản phẩm đã giảm về 0!');
            }
        });

        // Xử lý xóa sản phẩm
        cartTable.addEventListener('click', function (e) {
            if (e.target.closest('.product-remove button')) {
                const row = e.target.closest('tr');
                row.remove();
                showMessage('Đã xóa sản phẩm khỏi giỏ hàng!');
            }
        });
    });


</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const cartTable = document.querySelector('.table_main tbody');
        const popupMessage = document.getElementById('popup-message');
        const checkoutButton = document.querySelector('.totals_btns a');

        // Hiển thị thông báo popup
        function showMessage(message) {
            popupMessage.textContent = message;
            popupMessage.style.display = 'block';
            setTimeout(() => {
                popupMessage.style.display = 'none';
            }, 2000);
        }

        // Xử lý xóa sản phẩm
        cartTable.addEventListener('click', function (e) {
            if (e.target.closest('.product-remove button')) {
                const row = e.target.closest('tr');
                row.remove();
                showMessage('Đã xóa sản phẩm khỏi giỏ hàng!');
            }
        });

        // Xử lý khi nhấn nút thanh toán
        checkoutButton.addEventListener('click', function (e) {
            e.preventDefault(); // Ngăn chặn điều hướng trang ngay lập tức
            showMessage('Đặt hàng thành công!');
            setTimeout(() => {
                window.location.href = checkoutButton.href; // Điều hướng sau khi hiển thị thông báo
            }, 2000);
        });
    });
</script>
<script>
    document.querySelector('.totals_btns a').addEventListener('click', function (e) {
        e.preventDefault();

        // Lấy tất cả ghi chú cố định
        const defaultNotes = Array.from(document.querySelectorAll('#default-notes li')).map(li => li.textContent);

        // Lấy ghi chú bổ sung từ textarea
        const additionalNotes = document.getElementById('additional-notes').value.trim();

        // Kết hợp ghi chú
        let allNotes = defaultNotes;
        if (additionalNotes) {
            allNotes.push(additionalNotes);
        }

        console.log('Ghi chú:', allNotes.join('; ')); // Ghi chú đầy đủ
        alert('Đặt hàng thành công với các ghi chú:\n' + allNotes.join('\n'));

        // Điều hướng đến trang thanh toán
        window.location.href = this.href;
    });



</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const couponInput = document.querySelector('.couponCode input');
        const couponButton = document.querySelector('.couponCode button');

        // Hiển thị popup
        function showPopup(message) {
            const popupMessage = document.createElement('div');
            popupMessage.style.position = 'fixed';
            popupMessage.style.top = '20%';
            popupMessage.style.left = '50%';
            popupMessage.style.transform = 'translate(-50%, -50%)';
            popupMessage.style.padding = '15px';
            popupMessage.style.backgroundColor = '#4CAF50';
            popupMessage.style.color = 'white';
            popupMessage.style.borderRadius = '5px';
            popupMessage.style.zIndex = '9999';
            popupMessage.style.textAlign = 'center';
            popupMessage.textContent = message;

            document.body.appendChild(popupMessage);

            setTimeout(() => {
                popupMessage.remove();
            }, 2000);
        }

        // Xử lý sự kiện nhấn nút "OK"
        couponButton.addEventListener('click', function () {
            const couponCode = couponInput.value.trim();
            if (couponCode) {
                showPopup('Nhập Mã giảm giá thành công');
            } else {
                showPopup('Vui lòng nhập mã giảm giá!');
            }
        });
    });

</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const clearCartButton = document.querySelector('.clearCart button');
        const cartTable = document.querySelector('.table_main tbody');

        // Hiển thị popup
        function showPopup(message) {
            const popupMessage = document.createElement('div');
            popupMessage.style.position = 'fixed';
            popupMessage.style.top = '20%';
            popupMessage.style.left = '50%';
            popupMessage.style.transform = 'translate(-50%, -50%)';
            popupMessage.style.padding = '15px';
            popupMessage.style.backgroundColor = '#4CAF50';
            popupMessage.style.color = 'white';
            popupMessage.style.borderRadius = '5px';
            popupMessage.style.zIndex = '9999';
            popupMessage.style.textAlign = 'center';
            popupMessage.textContent = message;

            document.body.appendChild(popupMessage);

            setTimeout(() => {
                popupMessage.remove();
            }, 2000);
        }

        // Xử lý sự kiện nhấn "Xóa tất cả"
        clearCartButton.addEventListener('click', function () {
            if (cartTable) {
                cartTable.innerHTML = ''; // Xóa tất cả các sản phẩm trong bảng
                showPopup('Đã xóa tất cả sản phẩm trong giỏ hàng!');
            }
        });
    });

</script>
</body>
<script src="js/main.js"></script>


</html>